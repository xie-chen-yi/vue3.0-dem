import{aF as a,d as t,a as l,a0 as r,K as n,aT as e,e as i,cn as s,bc as o,o as u,i as c,l as d}from"./index.8d47259d.js";import{r as p,c as V}from"./animation.8dadcc24.js";import"./vendor.3b1829c7.js";var m=t({name:"CountTo",props:{startVal:a.number.def(0),endVal:a.number.def(2020),duration:a.number.def(1300),autoplay:a.bool.def(!0),decimals:{type:Number,required:!1,default:0,validator:a=>a>=0},decimal:a.string.def("."),separator:a.string.def(","),prefix:a.string.def(""),suffix:a.string.def(""),useEasing:a.bool.def(!0),easingFn:{type:Function,default:(a,t,l,r)=>l*(1-Math.pow(2,-10*a/r))*1024/1023+t}},emits:["mounted","callback"],setup(a,{emit:t}){const u=l({localStartVal:a.startVal,displayValue:g(a.startVal),printVal:null,paused:!1,localDuration:a.duration,startTime:null,timestamp:null,remaining:null,rAF:null});r((()=>{a.autoplay&&d(),t("mounted")}));const c=n((()=>a.startVal>a.endVal));function d(){const{startVal:t,duration:l}=a;u.localStartVal=t,u.startTime=null,u.localDuration=l,u.paused=!1,u.rAF=p(f)}function m(){u.startTime=null,u.localDuration=+u.remaining,u.localStartVal=+u.printVal,p(f)}function f(l){const{useEasing:r,easingFn:n,endVal:e}=a;u.startTime||(u.startTime=l),u.timestamp=l;const s=l-u.startTime;u.remaining=u.localDuration-s,r?i(c)?u.printVal=u.localStartVal-n(s,0,u.localStartVal-e,u.localDuration):u.printVal=n(s,u.localStartVal,e-u.localStartVal,u.localDuration):i(c)?u.printVal=u.localStartVal-(u.localStartVal-e)*(s/u.localDuration):u.printVal=u.localStartVal+(e-u.localStartVal)*(s/u.localDuration),i(c)?u.printVal=u.printVal<e?e:u.printVal:u.printVal=u.printVal>e?e:u.printVal,u.displayValue=g(u.printVal),s<u.localDuration?u.rAF=p(f):t("callback")}function g(t){const{decimals:l,decimal:r,separator:n,suffix:e,prefix:i}=a;t=Number(t).toFixed(l);const o=(t+="").split(".");let u=o[0];const c=o.length>1?r+o[1]:"",d=/(\d+)(\d{3})/;if(n&&!s(n))for(;d.test(u);)u=u.replace(d,"$1"+n+"$2");return i+u+c+e}return e([()=>a.startVal,()=>a.endVal],(()=>{a.autoplay&&d()})),{count:f,reset:function(){u.startTime=null,V(u.rAF),u.displayValue=g(a.startVal)},resume:m,start:d,pauseResume:function(){u.paused?(m(),u.paused=!1):(V(u.rAF),u.paused=!0)},displayValue:o(u,"displayValue")}}});m.render=function(a,t,l,r,n,e){return u(),c("span",null,d(a.displayValue),1)};export default m;
